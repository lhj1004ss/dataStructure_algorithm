<!-- allow one zero to flip 1 to get max length of consecutive 1 -->

<script>
  function maxConsecutiveOnes(nums) {
    let count = 0
    let maxLength = 0
    let right = 0
    let left = 0

    while (right < nums.length) {
      if (nums[right] === 0) {
        count++
      }
      while (count > 1) {
        if (nums[left] === 0) {
          count--
        }
        left++
        console.log(left, right)
      }
      maxLength = Math.max(maxLength, right - left + 1)
      right++
    }
    console.log(maxLength)
  }
  // maxConsecutiveOnes([1, 0, 0, 0, 0, 1, 1, 1])
  maxConsecutiveOnes([1, 0, 0, 1, 1, 0])

  // output should be 4,
  // 1,1,1,1
</script>
