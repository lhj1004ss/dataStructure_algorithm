<script>
  /**
   * @param {number[]} height
   * @return {number}
   */

  //time: O(n), space: O(n); two pointers
  // water = min(left-right) - height[i]
  var trap = function (height) {
    let left = 0
    let right = height.length - 1

    let maxLeft = height[left]
    let maxRight = height[right]
    let count = 0
    while (left < right) {
      if (height[left] < height[right]) {
        left++
        if (maxLeft - height[left] > 0) {
          count += maxLeft - height[left]
        }
        maxLeft = Math.max(maxLeft, height[left])
      } else {
        right--
        if (maxRight - height[right] > 0) {
          count += maxRight - height[right]
        }
        maxRight = Math.max(maxRight, height[right])
      }
    }

    return count
  }
</script>
